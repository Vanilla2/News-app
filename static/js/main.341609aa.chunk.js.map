{"version":3,"sources":["api.js","Article.js","ArticleBox.js","navbar.js","App.js","serviceWorker.js","index.js"],"names":["a","console","log","time","Date","toLocaleDateString","URL","fetch","res","json","data","error","tag","encodeURI","mode","api","getHotArticles","getArticlesByTag","Article","props","onClick","document","location","url","className","title","author","description","src","urlToImage","alt","ArticleBox","useState","articles","setArticles","loading","setLoading","useEffect","view","then","id","color","length","map","x","key","Navbar","value","setValue","handleKey","event","keyCode","passValue","trim","handleChange","addEventListener","removeEventListener","type","placeholder","onChange","target","App","setView","newval","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.341609aa.chunk.js","sourcesContent":["// function getHotArticles(){\r\n//     let time = new Date();\r\n//     time = time.toLocaleDateString();\r\n//     let URL = `http://newsapi.org/v2/top-headlines?`+ \r\n//                `q=Coronavirus&` +\r\n//                `sortBy=popularity&` +\r\n//                `from=${time}&` +\r\n//                `apiKey=6ba59ddb5a9a40a6bdc5558858263b49`;\r\n//     let xhr = new XMLHttpRequest;\r\n//     xhr.onload = function() {\r\n//         if (this.readyState === XMLHttpRequest.DONE ) { \r\n//             let response = JSON.parse(this.responseText);\r\n//             console.log(response);\r\n//         }\r\n//     }\r\n//     xhr.open(\"GET\", URL);\r\n//     xhr.send();\r\n// }\r\nasync function getHotArticles(){\r\n    console.log(\"Request made: 1\");\r\n    let time = new Date();\r\n    time = time.toLocaleDateString();\r\n    let URL = `https://newsapi.org/v2/top-headlines?`+ \r\n               `country=US&` +\r\n               `sortBy=popularity&` +\r\n               `from=${time}&` +\r\n               `apiKey=6ba59ddb5a9a40a6bdc5558858263b49`;\r\n    try{\r\n        let res = await fetch(URL, {\r\n            \"sec-fetch-mode\": \"cors\"\r\n        });\r\n        const data = await res.json();\r\n        console.log(data);\r\n        return(data);\r\n        // solvePromise(data);\r\n    } catch(err){\r\n        console.error(err);\r\n    }\r\n}\r\nasync function getArticlesByTag(tag){\r\n    tag = encodeURI(tag); \r\n    console.log(\"Request made: 2\");\r\n    let URL = `https://newsapi.org/v2/everything?`+ \r\n               `sortBy=popularity&` +\r\n               `q=${tag}&` +\r\n               `apiKey=6ba59ddb5a9a40a6bdc5558858263b49`;\r\n    try{\r\n        let res = await fetch(URL,{\r\n            mode: 'no-cors'\r\n        });\r\n        const data = await res.json();\r\n        console.log(data);\r\n        return(data);\r\n        // solvePromise(data);\r\n    } catch(err){\r\n        console.error(err);\r\n    }\r\n    // xhr.open(\"GET\", URL);\r\n    // xhr.send();\r\n}\r\nlet api = {\r\n    getHotArticles: getHotArticles,\r\n    getArticlesByTag: getArticlesByTag\r\n}\r\nexport default api;","import React from 'react'\r\n\r\nfunction Article(props){\r\n    function goToSource(){\r\n        document.location = props.data.url;\r\n    }\r\n    return(\r\n        <div onClick = {goToSource} className = \"article\">\r\n            <p className = \"article-title\">{props.data.title}</p>\r\n            {/* <p className = \"article-source\">{props.data.source.name}</p> */}\r\n            <p className = \"article-author\">{props.data.author}</p>\r\n            <p className = \"article-description\">{props.data.description}</p>\r\n            {/* <a href = {props.data.url} className = \"article-url\">{props.data.url}</a> */}\r\n            <img className = \"article-image\" src = {props.data.urlToImage} alt = \"Not Found\"/>\r\n        </div>\r\n    )\r\n}\r\nexport default Article;","import React, { useState, useEffect } from 'react';\r\nimport {Roller} from 'react-spinners-css';\r\nimport api from './api'\r\nimport Article from './Article'\r\n\r\nfunction ArticleBox(props){\r\n    const [articles, setArticles] = useState([]);\r\n    const [loading, setLoading] = useState(1);\r\n    useEffect(() =>{\r\n        if (props.view !== \"Top News\"){\r\n            setLoading(1);\r\n            api.getArticlesByTag(props.view).then(res =>{\r\n                console.log(res);\r\n                setArticles(res.articles);\r\n                setLoading(0);\r\n            })\r\n        }\r\n    },[props.view]);\r\n    useEffect(() =>{\r\n        setLoading(1);\r\n        api.getHotArticles().then(res =>{\r\n            console.log(res);\r\n            setArticles(res.articles);\r\n            setLoading(0);\r\n        })\r\n    }, []);\r\n    console.log(loading);\r\n    if (loading){\r\n        return(\r\n            <div id = \"loading-box\">\r\n                <Roller color = \"black\"/>\r\n            </div>\r\n        )\r\n    }\r\n    if(articles.length === 0){\r\n        return(\r\n            <div id = \"empty-box\">\r\n                <h3 id = \"empty-text\">\r\n                    No articles found\r\n                </h3>\r\n            </div>\r\n        );\r\n    }\r\n    return(\r\n        <div id = \"article-box\">\r\n            {articles.map(x =>(\r\n                <Article key = {x.url} data = {x} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\nexport default ArticleBox","import React, { useState, useEffect } from 'react';\r\n/* eslint-disable */\r\nfunction Navbar(props){\r\n    const [value, setValue] = useState(\"\");\r\n    function handleChange(event){\r\n        setValue(event.target.value);\r\n    }\r\n    function handleKey(event){\r\n        if (event.keyCode == 13){\r\n            let passValue = value.trim();\r\n            setValue(\"\");\r\n            if (passValue !== \"\"){\r\n                props.handleChange(passValue);\r\n            }\r\n        }\r\n    }\r\n    useEffect(() =>{\r\n        document.addEventListener(\"keyup\", handleKey);\r\n        return(() =>{\r\n            document.removeEventListener(\"keyup\", handleKey);\r\n        });\r\n    });\r\n    return(\r\n        <div className = \"view-box\">\r\n            <p className = 'view-text'>\r\n                You are viewing: <b>{props.view}</b>\r\n            </p>\r\n            <div className = \"search-box\">\r\n                <p className = \"search-text\">\r\n                    Search for news:\r\n                </p>\r\n                <input type = \"text\" placeholder = \"Ex: Bitcoin\" onChange = {handleChange} className = \"search-input\" value = {value} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Navbar;","import React, { useState, useEffect } from 'react';\nimport ArticleBox from './ArticleBox';\nimport Navbar from './navbar'\nimport './App.css';\nimport \"./style.css\";\nfunction App() {\n    const [view,setView] = useState(\"Top News\")\n    function handleChange(newval){\n        setView(newval);\n    }\n    useEffect(() => {\n        document.title = \"Vanilla News\";\n    }, [])\n    return(\n        <div id = \"body\">\n            <Navbar view = {view} handleChange = {handleChange}/>\n            <ArticleBox view = {view}/>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}